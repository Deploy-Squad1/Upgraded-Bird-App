{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Admin Panel</h2>

    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card border border-4 border-grey">
                <div class="card-header"><h5>Ban User IP</h5></div>
                <div class="card-body">
                    <form action="{{ url_for('add_banned_IP') }}" method="POST" class="d-flex gap-2">
                        <input type="text" name="ip_address" class="form-control" placeholder="e.g., 192.168.1.1" required>
                        <button type="submit" class="btn btn-danger">BAN</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-4">
            <div class="card border border-4 border-grey">
                <div class="card-header"><h5>Unban User IP</h5></div>
                <div class="card-body">
                    <form action="{{ url_for('remove_banned_IP') }}" method="POST" class="d-flex gap-2">
                        <input type="text" name="ip_address" class="form-control" placeholder="e.g., 192.168.1.1" required>
                        <button type="submit" class="btn btn-success">UNBAN</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <h3>Currently Banned (Hashes)</h3>
<!--    {% if banned_ips %}-->
<!--    <table class="table table-striped table-hover table-bordered">-->
<!--        <thead class="table-dark">-->
<!--            <tr>-->
<!--                <th scope="col">ID</th>-->
<!--                <th scope="col">IP Hash (SHA-256)</th>-->
<!--                <th scope="col">Status</th>-->
<!--            </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--            {% for ban in banned_ips %}-->
<!--            <tr>-->
<!--                <td>{{ loop.index }}</td>-->
<!--                <td class="font-monospace text-break">{{ ip_to_ban }}</td>-->
<!--                <td><span class="badge bg-danger">Banned</span></td>-->
<!--            </tr>-->
<!--            {% endfor %}-->
<!--        </tbody>-->
<!--    </table>-->
    <table class="table table-dark">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Ip hash</th>
    </tr>
  </thead>
  <tbody>
  {% for ip in banned_ips %}
    <tr>
      <th scope="row">{{ loop.index }}</th>

      <td>{{ ip.ip_hash }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
    {% else %}
        <div class="alert alert-info">No banned IPs found.</div>
    {% endif %}
</div>
{% endblock %}

